## 《声之影》现已在steam平台发布！

这是一个开源音游项目，基于cocos2dx游戏引擎和C++语言编写而成。

### 游戏介绍

《声之影》——传统4k下落式音游。

出于对音乐的热爱以及编程的兴趣，我制作了这款游戏，这也是我用cocos2d-x游戏引擎开发的第一个项目，希望你能喜欢！

### 游戏特色

玩法简单，仅需4个按键。

不同的难度，总有一个适合你。

完全免费，无论是现在还是将来。

诸多我喜欢的，动听的音乐。

### 项目配置

首先确保你已经配置好了cocos2dx和vs的环境

用python创建新项目

下载好code文件

将目录下的Classes以及Resources替换成该code文件中的同名文件夹

在vs中调试运行

### 相关链接

cocos官网：https://www.cocos.com

C++游戏开发-基于cocos2dx4.0-环境安装：https://www.bilibili.com/video/BV1g34y1n7HQ/?spm_id_from=333.337.search-card.all.click&vd_source=50b13665151ff97128eb1f1e95184d0a

cocos学习笔记：https://blog.51cto.com/shahdza/category2/p_3

#### 我的bilibili账号：神渣冬小狼：https://space.bilibili.com/176859859?spm_id_from=333.1007.0.0





# 上面为原作者所写

# 声之影（Sound & Shadow）- 产品介绍与使用说明书

## 一、产品介绍
“声之影”是一款基于Cocos2d-x引擎开发的轻量音乐节奏游戏，以“声随影动，乐由指生”为核心设计理念，将音乐节拍与视觉音符完美联动。游戏聚焦纯粹的节奏击打体验，去除冗余功能，提供精准的判定反馈、丰富的视觉特效与灵活的难度调节，适合节奏游戏爱好者快速上手，也可作为休闲玩家放松解压的选择。

核心亮点：
- 双音符类型：支持Tap（单键点击）与Hold（长按）两种核心音符，还原经典节奏游戏玩法；
- 四级判定体系：Perfect/Great/Bad/Miss分级反馈，搭配专属音效与粒子特效，击打反馈清晰；
- 难度自由切换：支持简单/困难两种模式，适配不同玩家操作水平；
- 本地数据留存：自动保存游戏设置（音量、难度）与成绩统计，无需重复配置。

## 二、使用说明
### 1. 快速开始
#### 1.1 运行条件
- 运行环境：Windows系统（支持Cocos2d-x引擎运行的设备）；
- 依赖资源：确保游戏目录下`Picture/`（图片资源）、`Music file/`（音效/音乐）、`Particle/`（粒子特效）文件夹完整，无缺失文件。

#### 1.2 启动与退出
- 启动游戏：运行编译后的可执行文件，进入欢迎界面后自动跳转主界面；
- 退出游戏：主界面连续点击两次返回键，或在任意界面按`ESC`键返回上一级，直至退出应用。

### 2. 操作指南
#### 2.1 核心按键（键盘操作）
| 按键         | 功能描述                                  |
|--------------|-------------------------------------------|
|  A        | 击打1号轨道（左侧第一个轨道）的音符        |
|  S        | 击打2号轨道（左侧第二个轨道）的音符        |
| 分号键（;）  | 击打3号轨道（右侧第一个轨道）的音符        |
| 单引号键（'）| 击打4号轨道（右侧第二个轨道）的音符        |
| ESC键        | 返回上一级界面（如游戏中返回选曲页）       |
| 回车键       | 结算界面返回主界面、选曲界面确认选择       |

#### 2.2 游戏流程
1. 主界面 → 选择“开始游戏”进入选曲界面；
2. 选曲界面选择歌曲后，自动加载对应谱面与音乐；
3. 音乐播放时，音符从屏幕上方下落，待音符到达底部判定线（Y轴=165位置）时，按下对应轨道按键；
4. 游戏结束后进入结算界面，显示总分、连击数、各等级判定次数，按回车键返回主界面。

### 3. 判定规则
游戏以“音符到达判定线中心”为基准时间点，按击打时机划分四级判定，不同难度模式仅影响判定宽容度（简单模式区间更宽松，困难模式更严格）：

| 判定等级 | 判定条件（毫秒范围） | 分数加成                | 连击影响       |
|----------|----------------------|-------------------------|----------------|
| Perfect  | 基准时间±40ms内（总80ms） | 基础分数×1.0            | 连击数+1       |
| Great    | 基准时间±40~100ms内（总200ms） | 基础分数×0.65          | 连击数+1       |
| Bad      | 基准时间-100~150ms内（总50ms） | 0分                     | 连击数重置为0  |
| Miss     | 超出Bad判定范围或未击打 | 0分                     | 连击数重置为0  |

### 4. 设置说明
在主界面选择“设置”进入设置界面，可配置以下功能：
#### 4.1 音量调节
- 背景音乐音量：通过滑条调节（范围0~100），实时生效；
- 音效音量：通过滑条调节（范围0~100），包含击打音效、切换音效等，实时生效。

#### 4.2 难度模式切换
- 滑条左侧为“简单模式”（Mood=0）：判定区间更宽松，适合新手玩家；
- 滑条右侧为“困难模式”（Mood=1）：判定区间更严格，适合进阶玩家；
- 切换后自动保存配置，下次启动游戏仍保持当前模式。

### 5. 常见问题
#### Q1：启动游戏后无画面/音效？
A1：检查`Picture/`、`Music file/`文件夹是否完整，资源路径是否正确；确保Cocos2d-x引擎环境配置正常。

#### Q2：击打音符无判定反馈？
A2：确认按键与轨道对应正确（如1号轨道对应A键）；检查音符是否在判定区间内击打，超出范围会判定为Miss。

#### Q3：设置修改后下次启动失效？
A3：确保游戏目录下`Record/`文件夹有写入权限，`GameSet.json`文件可正常保存配置（无权限会导致配置无法持久化）。

### 6. 注意事项
1. 游戏运行时请关闭其他占用系统资源的软件，避免音符卡顿影响判定精度；
2. 建议使用标准键盘操作，确保按键响应灵敏；
3. 若需更换歌曲或谱面，可将谱面文件按指定格式放入对应目录（参考开发文档），游戏会自动识别。
## 安装
1. 克隆仓库：https://github.com/Programming-Team-zzxh/Shadow-of-Sound/tree/Organizational-Branch
2. 在安装文件夹cmd,输入cocos new rythmgame -l cpp创建rythmgame文件夹
3. 将文件夹里的class resouce以及cmakelist进行替换
4. 在rythmgame\proj.win32下cmd，输入cmake .. -A win32
5. 配置Cocos2d-x环境后，编译对应平台工程。

