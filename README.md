# 音乐节奏游戏Shadow-Of-Sound
一款基于Cocos2d-x开发的精美音乐节奏游戏，支持原版歌曲和自定义歌曲，带给你沉浸式的音游体验！

感谢原作者神渣冬小狼的开源项目

## ✨ 特色功能
### 🎮 核心玩法
4键节奏打击 - 精准的按键判定系统

多难度选择 - Ez(简单)、Hd(困难)、In(极限)三种难度

动态速度调节 - 1.0x~3.0x自由调整游戏速度

实时Combo显示 - 连击特效和分数统计

### 🎵 歌曲系统
原版精选歌曲 - 内置多首高质量谱面

自定义歌曲支持 - 轻松添加自制谱面

智能文件扫描 - 自动识别新增歌曲

独立分数记录 - 每首歌曲独立保存最佳成绩

### 🎨 视觉体验
精美曲绘展示 - 每首歌曲都有专属背景

动态灯光效果 - 按键时触发轨道灯光

粒子特效 - 连击达到100倍数时的庆祝特效

流畅动画 - 场景切换和界面交互动画

## 🚀 快速开始
### 运行游戏
下载游戏可执行文件

双击 Game.exe 启动游戏

使用方向键或鼠标选择歌曲和难度

按下 Enter 键开始游戏

# 如果你想游玩自制谱
自制谱文件路径是下面这样，把Release里的压缩包下下来解压后能在根目录看到个叫Resources的文件夹，在里面找到Custom就是我们的自制谱文件夹了。你可以按照以下方式创建自制谱文件夹，文件夹名就是曲名，里面并列放曲绘、记录、三个难度的谱面和音乐文件。cover的尺寸最好是1920x1080。
//自制谱的文件存储逻辑，每个歌曲文件夹下存放所需的所有文件
```
Resources/Custom/
├── SongName1/
│   ├── cover.png          # 曲绘
│   ├── record.json        # 分数和难度记录
│   ├── Ez.json           # 简单难度谱面
│   ├── Hd.json           # 困难难度谱面
│   ├── In.json           # 极限难度谱面
│   └── music.mp3         # 音乐文件
├── SongName2/
│   ├── cover.png
│   ├── record.json
│   ├── Ez.json
│   ├── Hd.json
│   ├── In.json
│   └── music.mp
└── ...
```
谱面文件大概是这样，每行对应一个键，按时间从上到下排列。不看行数的话第一列是键出现的时间时间（可以和相邻的行相等来表示双押），第二列是轨道数，第三列是流速，第四列是按键类型（1是tap,大于1则是hold，数值代表该hold的长度。）
```
1.322 1 8 1
2.670 3 8 1
8.063 1 8 1
8.063 2 8 1
8.400 3 8 1
8.737 2 8 1
9.074 3 8 1
9.411 3 8 1
9.917 1 8 1
```
请务必按照以下的自制谱文件存储逻辑来创建文件夹，非常值得注意的是json文件一定要安以下的格式创建，否则可能引起程序崩溃
//自制谱json文件模板（重要）
```
{"<musicname>"
    :{"Score"://得分记录
         {"Ez":0,
         "Hd":0,
         "In":0
    },"Diff"://谱面难度
         {"Ez":,
        "Hd":,
        "In":
    },"Level"://成绩评级
        {"Ez":"",
        "Hd":"",
        "In":""
        }
    }
}

//例：某首叫“testify”的歌
{"testify"
    :{"Score"://得分记录
         {"Ez":1000000,
         "Hd":950000,
         "In":900000
    },"Diff"://谱面难度
         {"Ez":6,
        "Hd":9,
        "In":12
    },"Level"://成绩评级
        {"Ez":"AP",
        "Hd":"S",
        "In":"A"
        }
    }
}
```
# 原作者的话：
## 《声之影》现已在steam平台发布！

这是一个开源音游项目，基于cocos2dx游戏引擎和C++语言编写而成。

### 游戏介绍

《声之影》——传统4k下落式音游。

出于对音乐的热爱以及编程的兴趣，我制作了这款游戏，这也是我用cocos2d-x游戏引擎开发的第一个项目，希望你能喜欢！

### 游戏特色

玩法简单，仅需4个按键。

不同的难度，总有一个适合你。

完全免费，无论是现在还是将来。

诸多我喜欢的，动听的音乐。

### 项目配置

首先确保你已经配置好了cocos2dx和vs的环境

用python创建新项目

下载好code文件

将目录下的Classes以及Resources替换成该code文件中的同名文件夹

在vs中调试运行

### 相关链接

cocos官网：https://www.cocos.com

C++游戏开发-基于cocos2dx4.0-环境安装：https://www.bilibili.com/video/BV1g34y1n7HQ/?spm_id_from=333.337.search-card.all.click&vd_source=50b13665151ff97128eb1f1e95184d0a

cocos学习笔记：https://blog.51cto.com/shahdza/category2/p_3

#### 我的bilibili账号：神渣冬小狼：https://space.bilibili.com/176859859?spm_id_from=333.1007.0.0


### 更新日志
曾飞宇：

10.27 

      添加在游戏内出现perfect good bad miss 的资源图像
      
      对perfect判定机制进行完善，增加游戏内perfect图标的显示效果
      
11.3  

      对good判定机制范围进行完善，增加游戏内good图标的显示效果
      
      对miss判定机制范围进行完善，增加游戏内miss图标的显示效果
      
      增添bad判定并且对miss的判定范围进行合理调整，增加游戏内bad图标的显示效果

      完善hold音符的各大判定，使得每一个音符都有相应的判定图标显示，同时避免游戏内闪退问题

张瑞翔：

徐子杰：

黄卓航：
